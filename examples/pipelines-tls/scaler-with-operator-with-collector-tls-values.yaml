settings:
  metricStoreRetentionSeconds: 60
  logs:
    logLvl: debug
  tls:
    caFile: "/etc/ca-certificate/rootCA.crt"
    certFile: "/etc/server-tls/tls.crt"
    keyFile: "/etc/server-tls/tls.key"
    # optional section, if present the secrets will be mounted to scaler's deployment and no need to
    # set the .volumes and .volumeMounts. Use either this or .volume & .volumeMounts approach.
    secrets:
      - name: root-ca
        mountPath: /etc/ca-certificate
      - name: server-tls
        mountPath: /etc/server-tls

# cert manager needs to be installed for sidecar injection to work well
otelOperator:
  enabled: true
  manager:
    env: []
  admissionWebhooks:
    create: true

otelOperatorCrs:
- name: otel-add-on
  enabled: true
  debug: true
  mode: deployment
  namespace: keda
  serviceAccount:
    create: true
  clusterRole:
    create: true
    rules:
    - apiGroups:
      - ''
      resources:
      - 'pods'
      - 'nodes'
      verbs:
      - 'get'
      - 'list'
      - 'watch'
  alternateReceivers:
    github:
      initial_delay: 1s
      collection_interval: 45s
      scrapers:
        scraper:
          github_org: kedify
          search_query: "repo:kedify/otel-add-on"
          auth:
            authenticator: bearertokenauth/github
  alternateExtensions:
    bearertokenauth/github:
      token: ${env:GH_PAT}
#  env:
#  - name: GH_PAT
#    value: "abc"
  envFrom:
    # kubectl create secret generic gh-token --from-literal=GH_PAT=abc
    - secretRef:
        name: gh-token
  includeMetrics:
    - vcs.change.duration
